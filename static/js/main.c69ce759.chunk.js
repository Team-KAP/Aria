(this.webpackJsonpnetweaver=this.webpackJsonpnetweaver||[]).push([[0],{150:function(e,t,a){e.exports=a(315)},156:function(e,t,a){e.exports=a.p+"static/media/logo.ee7cd8ed.svg"},157:function(e,t,a){},161:function(e,t,a){},315:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(38),i=a.n(o),s=(a(155),a(12)),l=a(13),c=a(16),u=a(17),d=(a(156),a(157),a(147)),p=a(76),h=a(26),m=a(10),g=a(64),y=a(321),f=function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={test:13,input:12,value:0,setValue:0,currentActivation:"<select a layer>",currentInit:"<select a layer>",activations:["linear","relu","tanh","sigmoid","softmax"],inits:["zeros","ones","normal","uniform","glorot uniform","he uniform"]},n.handleChange=n.handleChange.bind(Object(h.a)(n)),n}return Object(l.a)(a,[{key:"handleChange",value:function(e){this.props.appState.loadable&&(this.props.appState.doSetNumNodes(this.props.appState.selectedLayer,e.target.value),this.props.appState.hideModelPanel())}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement(g.a,{variant:"primary",onClick:function(){console.log("adding layer"),e.props.appState.doAddLayer()}},"Add Layer ",this.props.appState.network.arrLayers.length+1)," ",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(y.a,null,r.a.createElement(y.a.Group,{controlId:"formBasicRange"},r.a.createElement(y.a.Label,null,"Node count: ",this.props.appState.loadable?this.props.appState.network.arrLayers[this.props.appState.selectedLayer].numNodes:""),r.a.createElement(y.a.Control,{type:"range",onChange:this.handleChange,min:"1",max:"10",value:this.props.appState.loadable?this.props.appState.network.arrLayers[this.props.appState.selectedLayer].numNodes:1}))),r.a.createElement(m.a,null,r.a.createElement(m.a.Toggle,{variant:"success",id:"dropdown-basic"},"Activation"),r.a.createElement(m.a.Menu,null,this.state.activations.map((function(t){return r.a.createElement(m.a.Item,{as:"button",onClick:function(){e.setState({currentActivation:t}),e.props.appState.doSetActivation(e.props.appState.selectedLayer,t)}},t)})))),r.a.createElement("br",null),r.a.createElement("p",null,this.props.appState.loadable?this.props.appState.network.arrLayers[this.props.appState.selectedLayer].activation:"<create a layer>"),r.a.createElement("br",null),r.a.createElement(m.a,null,r.a.createElement(m.a.Toggle,{variant:"success",id:"dropdown-basic"},"Weight Initializer"),r.a.createElement(m.a.Menu,null,this.state.inits.map((function(t){return r.a.createElement(m.a.Item,{as:"button",onClick:function(){e.setState({currentInit:t}),e.props.appState.doSetWeightInit(e.props.appState.selectedLayer,t)}},t)})))),r.a.createElement("br",null),r.a.createElement("p",null,this.props.appState.loadable?this.props.appState.network.arrLayers[this.props.appState.selectedLayer].weightInit:"<create a layer>"),r.a.createElement("br",null))}}]),a}(n.Component),S=function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={test:13,input:12,value:0,setValue:0,currentOpti:"none",optimizers:["SGD","RMSProp","Adadelta","Adam"],losses:["Mean Squared Error","Mean Absolute Error","Hinge","Binary Crossentropy"]},n.handleChange=n.handleChange.bind(Object(h.a)(n)),n.handleClick=n.handleClick.bind(Object(h.a)(n)),n}return Object(l.a)(a,[{key:"handleChange",value:function(e){this.props.appState.loadable&&this.props.appState.doSetLearnRate(e.target.value)}},{key:"handleClick",value:function(e){this.props.appState.network.learningRateDecay?this.props.appState.doSetLearningDecay(!1):this.props.appState.doSetLearningDecay(!0)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement(m.a,null,r.a.createElement(m.a.Toggle,{variant:"success",id:"dropdown-basic"},"Optimizer"),r.a.createElement(m.a.Menu,null,this.state.optimizers.map((function(t){return r.a.createElement(m.a.Item,{as:"button",onClick:function(){e.setState({currentOpti:t}),e.props.appState.doSetOptimizer(t)}},t)})))),r.a.createElement("br",null),r.a.createElement("p",null,"Current optimizer: ",this.state.currentOpti),r.a.createElement("br",null),r.a.createElement(m.a,null,r.a.createElement(m.a.Toggle,{variant:"success",id:"dropdown-basic"},"Loss Functions"),r.a.createElement(m.a.Menu,null,this.state.losses.map((function(t){return r.a.createElement(m.a.Item,{as:"button",onClick:function(){e.props.appState.doSetLoss(t)}},t)})))),r.a.createElement("br",null),r.a.createElement(y.a,null,r.a.createElement(y.a.Group,{controlId:"formBasicRange"},r.a.createElement(y.a.Label,null,"Learning rate of the network: ",this.props.appState.loadable?this.props.appState.network.learnRate:""),r.a.createElement(y.a.Control,{type:"range",onChange:this.handleChange,max:"0.1",step:"0.001",value:this.props.appState.network.learnRate}))),r.a.createElement(y.a,null,["checkbox"].map((function(t){return r.a.createElement("div",{key:"learning-rate-decay",className:"mb-3"},r.a.createElement(y.a.Check,{type:t,id:"learning rate checkbox",label:"Learning Rate Decay",onChange:e.handleClick}))}))))}}]),a}(n.Component),v=a(74),k=(a(97),function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).doGetCode=function(e){return r.a.createElement("p",null,n.state.kerasCode.get("beginModel")," ",r.a.createElement("br",null),r.a.createElement("br",null),e.arrLayers.map((function(e){var t="";return t+=n.state.kerasCode.get("addLayer"),t+=e.numNodes+", ",!0===e.isFirstLayer&&(t+=n.state.kerasCode.get("input_dim")+e.numNodes+", "),null!=e.activation&&(t+=n.getActivationCode(e)),null!=e.weightInit&&(t+=", kernel_initializer='"+n.state.weightDict.get(e.weightInit)+"'"),t+=n.state.kerasCode.get("network_end"),r.a.createElement("div",null,t)})),"opt=optimizers."+e.optimizer+"(lr="+e.learnRate+", decay="+(e.learningRateDecay?.01:0)+", momentum=0.9)",r.a.createElement("br",null),n.state.kerasCode.get("compile")+n.state.kerasCode.get("loss")+"'"+n.state.lossDict.get(e.loss)+"', "+n.state.kerasCode.get("optimizer")+"opt)",r.a.createElement("br",null),r.a.createElement("br",null),n.state.kerasCode.get("modelfit")+e.epochs+", "+n.state.kerasCode.get("batch")+e.batchSize+n.state.kerasCode.get("network_end"))},n.doGetCode_=function(e){var t="";t+=n.state.kerasCode.get("beginModel")+"\n";var a,r=Object(v.a)(e.arrLayers);try{for(r.s();!(a=r.n()).done;){var o=a.value;t+=n.state.kerasCode.get("addLayer"),t+=o.numNodes+", ",!0===o.isFirstLayer&&(t+=n.state.kerasCode.get("input_dim")+o.numNodes+", "),null!=o.activation&&(t+=n.getActivationCode(o)),t+=n.state.kerasCode.get("network_end")+"\n"}}catch(i){r.e(i)}finally{r.f()}return t+=n.state.kerasCode.get("compile")+n.state.kerasCode.get("losser")+"'"+e.loss+"', "+n.state.kerasCode.get("optimizer")+"'"+e.optimizer+"', "+n.state.kerasCode.get("metrics")+"'accuracy']), "+n.state.kerasCode.get("learnRate")+e.learnRate+n.state.kerasCode.get("network_end")+"\n",t+=n.state.kerasCode.get("modelfit")+e.epochs+", "+n.state.kerasCode.get("batch")+e.batchSize+n.state.kerasCode.get("network_end")},n.state={kerasCode:new Map,lossDict:new Map,weightDict:new Map},n.state.kerasCode.set("beginModel","model = Sequential()"),n.state.kerasCode.set("addLayer","model.add(Dense("),n.state.kerasCode.set("input_dim","input_dim="),n.state.kerasCode.set("compile","model.compile("),n.state.kerasCode.set("losser","loss="),n.state.kerasCode.set("optimizer","optimizer="),n.state.kerasCode.set("metrics","metrics=["),n.state.kerasCode.set("modelfit","model.fit(x=x_train, y=y_ytrain, epochs="),n.state.kerasCode.set("batch","batch_size="),n.state.kerasCode.set("learnRate","learning_rate="),n.state.kerasCode.set("network_end","))"),n.state.kerasCode.set("loss","loss="),n.state.kerasCode.set("learningRateDecay","decay="),n.state.kerasCode.set("weightInit","kernel_initializer="),n.state.lossDict.set("Mean Squared Error","mean_squared_error"),n.state.lossDict.set("Mean Absolute Error","mean_absolute_error"),n.state.lossDict.set("Hinge","hinge"),n.state.lossDict.set("Binary Crossentropy","binary_crossentropy"),n.state.weightDict.set("zeros","zeros"),n.state.weightDict.set("ones","ones"),n.state.weightDict.set("normal","random_normal"),n.state.weightDict.set("uniform","random_uniform"),n.state.weightDict.set("glorot uniform","glorot_uniform"),n.state.weightDict.set("he uniform","he_uniform"),n}return Object(l.a)(a,[{key:"getActivationCode",value:function(e){return"activation='"+e.activation+"'"}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h5",{class:"center"},"Generated Code"),r.a.createElement("div",{class:"code"},r.a.createElement("br",null),r.a.createElement("p",null,this.doGetCode(this.props.appState.network))))}}]),a}(n.Component)),b=function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={},n.handleEpochChange=n.handleEpochChange.bind(Object(h.a)(n)),n.handleBatchChange=n.handleBatchChange.bind(Object(h.a)(n)),n}return Object(l.a)(a,[{key:"handleEpochChange",value:function(e){this.props.appState.doSetEpochs(e.target.value)}},{key:"handleBatchChange",value:function(e){this.props.appState.doSetBatchSize(e.target.value)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement(y.a,null,r.a.createElement(y.a.Group,{controlId:"formBasicRange"},r.a.createElement(y.a.Label,null,"Epochs: ",this.props.appState.network.epochs),r.a.createElement(y.a.Control,{type:"range",onChange:this.handleEpochChange,max:"500",value:this.props.appState.network.epochs}))),r.a.createElement(y.a,null,r.a.createElement(y.a.Group,{controlId:"formBasicRange"},r.a.createElement(y.a.Label,null,"Batch Size: ",this.props.appState.network.batchSize),r.a.createElement(y.a.Control,{type:"range",onChange:this.handleBatchChange,min:"32",max:"256",step:"32",value:this.props.appState.network.batchSize}))))}}]),a}(n.Component),E=(a(161),function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(e){return Object(s.a)(this,a),t.call(this,e)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{id:"sidebar"},r.a.createElement("div",{id:"settings"},r.a.createElement(d.a,{defaultActiveKey:"build",id:"settings"},r.a.createElement(p.a,{eventKey:"build",title:"Build"},r.a.createElement("div",null,r.a.createElement(f,{appState:this.props.appState}))),r.a.createElement(p.a,{eventKey:"learn",title:"Learn"},r.a.createElement("div",null,r.a.createElement(S,this.props))),r.a.createElement(p.a,{eventKey:"train",title:"Train"},r.a.createElement("div",null,r.a.createElement(b,this.props))))),r.a.createElement(k,{appState:this.props.appState}))}}]),a}(n.Component)),C=function(){function e(){Object(s.a)(this,e),this.arrLayers=[],this.optimizer="SGD",this.learnRate=.001,this.loss="Mean Squared Error",this.epochs=100,this.batchSize=32,this.learningRateDecay=!1}return Object(l.a)(e,[{key:"copy",value:function(e){this.arrLayers=e.arrLayers,this.optimizer=e.optimizer,this.learnRate=e.learnRate,this.learningRateDecay=e.learningRateDecay,this.loss=e.loss,this.epochs=e.epochs,this.batchSize=e.batchSize,this.reportContent()}},{key:"setOptimizer",value:function(e){this.optimizer=e}},{key:"reportContent",value:function(){console.log("REPORTING NETWORK"),console.log(this.arrLayers),console.log("optimizer: "+String(this.optimizer)),console.log("learnRate: "+String(this.learnRate)),console.log("learnRateDecay: "+String(this.learningRateDecay)),console.log("loss: "+String(this.loss)),console.log("epochs: "+String(this.epochs)),console.log("Batch Size: "+String(this.batchSize)),console.log("Learning Rate Decay: "+String(this.learningRateDecay)),console.log(" ")}},{key:"setBatchSize",value:function(e){this.batchSize=e}},{key:"setLearnRate",value:function(e){this.learnRate=e}},{key:"setLoss",value:function(e){this.loss=e}},{key:"setEpochs",value:function(e){this.epochs=e}},{key:"setlearningRateDecay",value:function(e){this.learningRateDecay=e}},{key:"addLayer",value:function(e){this.arrLayers.push(e)}}]),e}(),w=function(){function e(t,a,n,r,o){Object(s.a)(this,e),this.numNodes=t,this.activation=a,this.isFirstLayer=n,this.weightInit="glorot uniform"}return Object(l.a)(e,[{key:"setWeightInit",value:function(e){this.weightInit=e}},{key:"setNumNodes",value:function(e){this.numNodes=e}},{key:"setActivation",value:function(e){this.activation=e}},{key:"setisFirstLayer",value:function(e){this.isFirstLayer=e}}]),e}();var L=a(146);function z(e,t){!function(e){var t,a=0,n=Object(v.a)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value.numNodes;r>a&&(a=r)}}catch(o){n.e(o)}finally{n.f()}}(e);for(var a={},n=[],r=[],o=[],i=0;i<e.length;i++){for(var s=e[i].numNodes,l=.2*i,c=i===t?"#add8e6":"#fff",u=.15-s/200,d=(2-(s-1)*u)/2,p=[],h=0;h<s;h++){var m={x:l,y:d+h*u,size:1,id:i+","+h,color:c};n.push(m),p.push(m)}o.length>0&&O(o,p,r),o=p}return a.nodes=n,a.edges=r,a}function O(e,t,a){for(var n=0;n<e.length;n++)for(var r=e[n],o=r.id,i=0;i<t.length;i++){var s=t[i],l={id:"e_"+r.id+","+s.id,source:o,target:s.id,size:1-e.length*t.length/100};a.push(l)}}var R=function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).onClickNodeFunc=function(e){var t=e.data.node.id,a=parseInt(t.substring(0,t.indexOf(",")));n.props.appState.doSelectLayer(a)},n}return Object(l.a)(a,[{key:"getSigma",value:function(e){return r.a.createElement(L.a,{graph:e,style:{height:"100%"},onClickNode:this.onClickNodeFunc,settings:{maxNodeSize:15,maxEdgeSize:.3,clone:!1,enableHovering:!0,rescaleIgnoreSize:!1}})}},{key:"render",value:function(){var e=z(this.props.appState.network.arrLayers,this.props.appState.coloredLayer);return this.props.appState.hiddenModelPanel?(this.props.appState.unhideModelPanel(),!1):r.a.createElement("div",{id:"content"},r.a.createElement("h2",null,"NetWeaver"),r.a.createElement("h5",{class:"center"},"Model Architecture"),r.a.createElement("div",{style:{height:"90%"}},this.getSigma(e)))}}]),a}(n.Component),j=(a(173),function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).doSetLearningDecay=function(e){var t=new C;t.copy(n.state.network),t.setlearningRateDecay(e),n.setState((function(e){return{network:t}}))},n.doSetLoss=function(e){var t=new C;t.copy(n.state.network),t.setLoss(e),n.setState((function(e){return{network:t}}))},n.doSetEpochs=function(e){var t=new C;t.copy(n.state.network),t.setEpochs(e),n.setState((function(e){return{network:t}}))},n.doSetBatchSize=function(e){var t=new C;t.copy(n.state.network),t.setBatchSize(e),n.setState((function(e){return{network:t}}))},n.doSelectLayer=function(e){n.doColorLayer(e),n.setState((function(t){return{selectedLayer:e}}))},n.doColorLayer=function(e){n.setState((function(t){return{coloredLayer:e}})),n.hideModelPanel()},n.doSetLearnRate=function(e){var t=new C;t.copy(n.state.network),t.setLearnRate(e),n.setState((function(e){return{network:t}}))},n.hideModelPanel=function(){n.setState((function(e){return{hiddenModelPanel:!0}}))},n.unhideModelPanel=function(){n.setState((function(e){return{hiddenModelPanel:!1}}))},n.doSetOptimizer=function(e){console.log("starting");var t=new C;t.copy(n.state.network),t.setOptimizer(e),n.setState((function(e){return{network:t}}))},n.doAddLayer=function(){var e=new w(5,"relu",!1,!1,"zeros"),t=new C;t.copy(n.state.network),0===t.arrLayers.length&&(e.isFirstLayer=!0),t.addLayer(e),n.setState((function(e){return{network:t,loadable:!0,selectedLayer:n.state.network.arrLayers.length-1}})),n.hideModelPanel()},n.doSetNumNodes=function(e,t){var a=new C;a.copy(n.state.network),a.arrLayers[e].setNumNodes(t),n.setState((function(e){return{network:a}}))},n.state={hiddenModelPanel:!1,hideModelPanel:function(){return n.hideModelPanel()},unhideModelPanel:function(){return n.unhideModelPanel()},network:new C,selectedLayer:0,loadable:!1,doSelectLayer:function(e){return n.doSelectLayer(e)},doColorLayer:function(e){return n.doColorLayer(e)},doAddLayer:function(){return n.doAddLayer()},doSetOptimizer:function(e){return n.doSetOptimizer(e)},doSetActivation:function(e,t){return n.doSetActivation(e,t)},doSetWeightInit:function(e,t){return n.doSetWeightInit(e,t)},doSetNumNodes:function(e,t){return n.doSetNumNodes(e,t)},doSetLearnRate:function(e){return n.doSetLearnRate(e)},doSetEpochs:function(e){return n.doSetEpochs(e)},doSetBatchSize:function(e){return n.doSetBatchSize(e)},doSetLoss:function(e){return n.doSetLoss(e)},doSetLearningDecay:function(e){return n.doSetLearningDecay(e)}},n}return Object(l.a)(a,[{key:"doSetActivation",value:function(e,t){var a=new C;a.copy(this.state.network),a.arrLayers[e].setActivation(t),this.setState((function(e){return{network:a}}))}},{key:"doSetWeightInit",value:function(e,t){var a=new C;a.copy(this.state.network),a.arrLayers[e].setWeightInit(t),this.setState((function(e){return{network:a}}))}},{key:"render",value:function(){return r.a.createElement("div",{class:"wrapper"},r.a.createElement(R,{appState:this.state}),r.a.createElement(E,{appState:this.state}))}}]),a}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(j,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},97:function(e,t,a){}},[[150,1,2]]]);
//# sourceMappingURL=main.c69ce759.chunk.js.map